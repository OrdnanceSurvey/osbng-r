[{"path":"/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2025 Ordnance Survey Ltd Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"/articles/osbng_indexing_polygon_examples.html","id":"british-national-grid-indexing-polygon-examples","dir":"Articles","previous_headings":"","what":"British National Grid Indexing Polygon Examples","title":"Indexing Polygon Example","text":"key component osbng package indexing functionality. geom_to_bng geom_to_bng_intersection functions enable indexing geometries, represented using geos geometry objects, grid squares specified resolution. functions accept geos (optionally sf) objects following types: Point, LineString, Polygon, MultiPoint, MultiLineString, MultiPolygon, GeometryCollection. geometry coordinates must encoded British National Grid (OSGB36) EPSG:27700 coordinate reference system. functions facilitate grid-based spatial analysis, enabling applications statistical aggregation, data visualisation, data interoperability. two functions differ operation: geom_to_bng returns British National Grid (BNG) grid squares intersected input geometry, geom_to_bng_intersection returns intersections (shared areas) input geometry grid square geometries. deciding two functions, consider whether decomposition input geometry BNG grid squares required. decomposition logic computationally expensive useful intersection input geometry grid square needed. approach supports spatial join optimisations, point--polygon polygon--polygon operations, using is_core value indexed geometry object. optimisations particularly valuable geospatial analysis medium large datasets distributed processing systems, geometries may colocated BNG references.","code":""},{"path":[]},{"path":"/articles/osbng_indexing_polygon_examples.html","id":"geom_to_bng","dir":"Articles","previous_headings":"British National Grid Indexing Polygon Examples > Indexing Functions Accepting Geometries","what":"geom_to_bng","title":"Indexing Polygon Example","text":"function returns list BNGReference objects representing BNG grid squares intersected input geometry. Note BNGReference objects deduplicated cases multiple parts multi-part geometry intersect grid square.","code":""},{"path":"/articles/osbng_indexing_polygon_examples.html","id":"geom_to_bng_intersection","dir":"Articles","previous_headings":"British National Grid Indexing Polygon Examples > Indexing Functions Accepting Geometries","what":"geom_to_bng_intersection","title":"Indexing Polygon Example","text":"function returns list objects representing decomposition input geometry BNG grid squares. Unlike geom_to_bng, deduplication occurs. multiple parts multi-part geometry intersect grid square, intersection part returned.","code":""},{"path":"/articles/osbng_indexing_polygon_examples.html","id":"examples","dir":"Articles","previous_headings":"British National Grid Indexing Polygon Examples","what":"Examples","title":"Indexing Polygon Example","text":"examples demonstrate application two indexing functions using London boundary administrative England Regions dataset provided Office National Statistics (ONS). Metadata dataset available ?osbng::. indexing functions applied geometries within sf spatial data frame.","code":""},{"path":"/articles/osbng_indexing_polygon_examples.html","id":"optional-sf-dependency","dir":"Articles","previous_headings":"British National Grid Indexing Polygon Examples","what":"Optional sf Dependency","title":"Indexing Polygon Example","text":"osbng fully compatible sf can seamlessly work data frames R, require sf hard dependency. indexing functions operate directly geos Geometry objects. allows use functions standard data structures (e.g., vectors, data frames) containing geos geometries. Check/confirm coordinate reference system used.","code":"library(osbng) library(sf) #> Linking to GEOS 3.9.1, GDAL 3.3.2, PROJ 7.2.1; sf_use_s2() is TRUE # Read the Office for National Statistics (ONS) England Regions GeoPackage # Create an sf data frame # See examples/data/metadata.json for more information about the data source gdf <- st_read(   system.file(\"extdata\",                \"London_Regions_December_2024_Boundaries_EN_BFC.gpkg\",                package = \"osbng\"),    quiet = TRUE)  # Filter the data frame columns gdf_london <- gdf[, c(\"RGN24CD\", \"RGN24NM\")]  # Return the data frame gdf_london #> Simple feature collection with 1 feature and 2 fields #> Geometry type: MULTIPOLYGON #> Dimension:     XY #> Bounding box:  xmin: 503571.5 ymin: 155854.3 xmax: 561957.5 ymax: 200933.6 #> Projected CRS: OSGB 1936 / British National Grid #>     RGN24CD RGN24NM                       geometry #> 1 E12000007  London MULTIPOLYGON (((531024.6 20... # osbng indexing functions require geometry coordinates to be specified  # in British National Grid (BNG) (OSGB36) cordinate reference system # EPSG:27700 # https://epsg.io/27700 st_crs(gdf_london) #> Coordinate Reference System: #>   User input: OSGB 1936 / British National Grid  #>   wkt: #> PROJCRS[\"OSGB 1936 / British National Grid\", #>     BASEGEOGCRS[\"OSGB 1936\", #>         DATUM[\"OSGB 1936\", #>             ELLIPSOID[\"Airy 1830\",6377563.396,299.3249646, #>                 LENGTHUNIT[\"metre\",1]]], #>         PRIMEM[\"Greenwich\",0, #>             ANGLEUNIT[\"degree\",0.0174532925199433]], #>         ID[\"EPSG\",4277]], #>     CONVERSION[\"British National Grid\", #>         METHOD[\"Transverse Mercator\", #>             ID[\"EPSG\",9807]], #>         PARAMETER[\"Latitude of natural origin\",49, #>             ANGLEUNIT[\"degree\",0.0174532925199433], #>             ID[\"EPSG\",8801]], #>         PARAMETER[\"Longitude of natural origin\",-2, #>             ANGLEUNIT[\"degree\",0.0174532925199433], #>             ID[\"EPSG\",8802]], #>         PARAMETER[\"Scale factor at natural origin\",0.9996012717, #>             SCALEUNIT[\"unity\",1], #>             ID[\"EPSG\",8805]], #>         PARAMETER[\"False easting\",400000, #>             LENGTHUNIT[\"metre\",1], #>             ID[\"EPSG\",8806]], #>         PARAMETER[\"False northing\",-100000, #>             LENGTHUNIT[\"metre\",1], #>             ID[\"EPSG\",8807]]], #>     CS[Cartesian,2], #>         AXIS[\"(E)\",east, #>             ORDER[1], #>             LENGTHUNIT[\"metre\",1]], #>         AXIS[\"(N)\",north, #>             ORDER[2], #>             LENGTHUNIT[\"metre\",1]], #>     USAGE[ #>         SCOPE[\"Engineering survey, topographic mapping.\"], #>         AREA[\"United Kingdom (UK) - offshore to boundary of UKCS within 49°45'N to 61°N and 9°W to 2°E; onshore Great Britain (England, Wales and Scotland). Isle of Man onshore.\"], #>         BBOX[49.75,-9,61.01,2.01]], #>     ID[\"EPSG\",27700]]"},{"path":"/articles/osbng_indexing_polygon_examples.html","id":"geom_to_bng-1","dir":"Articles","previous_headings":"British National Grid Indexing Polygon Examples > Optional sf Dependency","what":"geom_to_bng","title":"Indexing Polygon Example","text":"Returns list BNGReference objects representing BNG grid squares intersected input geometry. BNGReference provides functions access manipulate reference. includes following: print(x, compact = TRUE): BNG reference whitespace removed. bng_to_grid_geom(): Returns grid square geos sf Polygon. information BNG Reference object, see ?as_bng_reference. resulting data frame includes list column containing BNG reference objects intersect London region. make easier map grid squares, need transform data frame reference row. easiest way using tidyr::unnest, example uses alternative package available. new data frame contains row BNG grid squares intersected original region geometry. column still contains BNGReference objects, can extract information reference, geometry. Now grid square geometries organised spatial data frame, can visualise data demonstrate concept assigning geometries BNG grid squares. Since sf object, ggplot2::geom_sf tmap can used. demonstrate alternative without dependencies.","code":"# Return the BNG grid squares intersected by the London Region # Uses `geom_to_bng()` # Uses a 5km grid square resolution # Returns a list of `BNGRefernce` objects for each geometry gdf_london$bng_ref_5km <- geom_to_bng(gdf_london, resolution = \"5km\") # Expand the bng_ref_5km column to separate rows for each BNG Reference object df <- data.frame(id = rep(seq_len(nrow(gdf_london)),                            lengths(gdf_london$bng_ref_5km)),                   bng_ref_5km = as_bng_reference(unlist(gdf_london$bng_ref_5km)))  # Create a data frame of London and combine with BNG observations df_london <- st_drop_geometry(gdf_london)  # Drop the original bng_ref_5km column df_london <- df_london[, !names(df_london) %in% c(\"bng_ref_5km\")]  df_london <- cbind(df_london[df$id, ], df) # Alternative approach requiring `tidyr` - NOT RUN  df_london <- gdf_london %>%    unnest(bng_ref_5km) %>%   st_drop_geometry() # Using the data frame with the set of BNG grid squares # Get the geometry for each grid square df_london$geometry <- bng_to_grid_geom(df_london$bng_reference, format = \"sf\")  # Convert this data frame to an `sf` object with the grid square geometry gdf_london_exp <- st_sf(df_london)  # Return the first few rows head(gdf_london_exp) #> Simple feature collection with 6 features and 4 fields #> Geometry type: POLYGON #> Dimension:     XY #> Bounding box:  xmin: 515000 ymin: 155000 xmax: 550000 ymax: 160000 #> Projected CRS: OSGB 1936 / British National Grid #>       RGN24CD RGN24NM id bng_reference                       geometry #> 1   E12000007  London  1   <TQ 1 5 NE> POLYGON ((515000 155000, 52... #> 1.1 E12000007  London  1   <TQ 2 5 NE> POLYGON ((525000 155000, 53... #> 1.2 E12000007  London  1   <TQ 3 5 NW> POLYGON ((530000 155000, 53... #> 1.3 E12000007  London  1   <TQ 3 5 NE> POLYGON ((535000 155000, 54... #> 1.4 E12000007  London  1   <TQ 4 5 NW> POLYGON ((540000 155000, 54... #> 1.5 E12000007  London  1   <TQ 4 5 NE> POLYGON ((545000 155000, 55... # Plot the original London Region plot(st_geometry(gdf_london),       col = \"#ffc61e\",       border = \"#fff\",      main = \"BNG Grid Squares at 5km Resolution Intersected by London Region\",      cex.main = .8,       extent = st_bbox(gdf_london_exp))  # Add the indexed and exploded London regions plot(st_geometry(gdf_london_exp),       col = NA,       border = \"#333333\",       add = TRUE)  # Add feature labels at grid square centroids coords <- st_coordinates(st_centroid(gdf_london_exp)) text(coords[, 1],      coords[, 2],      gdf_london_exp$bng_reference, cex = 0.4)"},{"path":"/articles/osbng_indexing_polygon_examples.html","id":"geom_to_bng_intersection-1","dir":"Articles","previous_headings":"British National Grid Indexing Polygon Examples > Optional sf Dependency","what":"geom_to_bng_intersection","title":"Indexing Polygon Example","text":"Returns list nested lists representing decomposition input geometry BNG grid squares. three elements nested list : bng_ref: BNGReference object representing grid square corresponding decomposition. is_core: Boolean flag indicating whether grid square geometry entirely contained input geometry. relevant Polygon geometries helps distinguish “core” (fully inside)“edge” (partially overlapping) grid squares. geom: geometry (geos, sf, WKT format) representing intersection input geometry grid square. can one number geometry types depending overlap. is_core True, geom grid square geometry. Starting original London Region, intersecting BNG grid squares identified decomposed geometry exploded separate rows. Given list column BNG reference objects, easiest way expand multiple rows using tidyr::unnest_wider followed tidyr::unnest. example shows alternative approach without dependency tidyr. spatial data frame contains decomposed London Region’s geometry decomposed BNG grid squares. Using expanded set records demonstrates is_core property grid squares fully contained original geometry.","code":"# Create a new data frame of the London Region # Filter the data frame columns gdf_london <- gdf[, c(\"RGN24CD\", \"RGN24NM\")]  # Decompose the London Region intoa simplified representation bounded by its # presence in each BNG grid square at a 5km resolution. # Uses the geom_to_bng_intersection function # Returns a list of nested lists gdf_london$bng_ref_5km <- geom_to_bng_intersection(gdf_london,                                                     resolution = \"5km\")  # Drop original geometry column gdf_london <- st_drop_geometry(gdf_london) # Expand the bng_ref_5km column to separate rows for each object. gdf_london <- cbind(\"RGN24CD\" = gdf_london[, c(\"RGN24CD\")],                      data.frame(gdf_london$bng_ref_5km))  # Convert this data frame to an `sf` object with the grid square geometry gdf_london_exp <- st_sf(gdf_london)  # Return the first few rows of the GeoDataFrame head(gdf_london_exp) #> Simple feature collection with 6 features and 3 fields #> Geometry type: GEOMETRY #> Dimension:     XY #> Bounding box:  xmin: 516482.1 ymin: 155854.3 xmax: 546026.9 ymax: 160000 #> Projected CRS: OSGB 1936 / British National Grid #>     RGN24CD bng_reference is_core                       geometry #> 1 E12000007   <TQ 1 5 NE>   FALSE POLYGON ((516934.9 160000, ... #> 2 E12000007   <TQ 2 5 NE>   FALSE POLYGON ((529998.6 157302.2... #> 3 E12000007   <TQ 3 5 NW>   FALSE POLYGON ((534994.8 159511.3... #> 4 E12000007   <TQ 3 5 NE>   FALSE MULTIPOLYGON (((535881.7 16... #> 5 E12000007   <TQ 4 5 NW>   FALSE POLYGON ((544965.3 156784.3... #> 6 E12000007   <TQ 4 5 NE>   FALSE POLYGON ((546019.3 159994.4... # Alternative approach requiring `tidyr` - NOT RUN gdf_london_exp <- gdf_london %>%   unnest_wider(bng_ref_5km) %>%   unnest(cols = c(BNGReference, is_core, geom)) %>%   st_sf() # Plot the indexed and expanded London Region spatial data frame plot(gdf_london_exp[\"is_core\"],      border = \"#fff\",      col = c(\"#009ade\", \"#ff1f5b\")[gdf_london$is_core + 1],      main = \"Decomposition of the London Region into BNG Grid Squares at 5km Resolution\",      cex.main = .75)  legend(0.8, 0.3,         title = \"is_core\",        legend = c(\"True\", \"False\"),          fill = c(\"#ff1f5b\", \"#009ade\"))"},{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Chris Jochem. Maintainer, author. Ordnance Survey Ltd. Copyright holder, funder. Steve Kingston. Contributor. Kate New. Contributor. Tom Peterken. Contributor.","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Ordnance Survey (2025). osbng: Access British National Grid Index System. Ordnance Survey Ltd. R package version 0.1.0, https://github.com/OrdnanceSurvey/osbng-r.","code":"@Manual{,   title = {{osbng}: Access the British National Grid Index System},   author = {{Ordnance Survey}},   organization = {Ordnance Survey Ltd},   year = {2025},   note = {R package version 0.1.0},   url = {https://github.com/OrdnanceSurvey/osbng-r}, }"},{"path":"/index.html","id":"osbng-british-national-grid-references-in-r","dir":"","previous_headings":"","what":"Access the British National Grid Index System","title":"Access the British National Grid Index System","text":"R library Ordnance Survey’s British National Grid (BNG) index system. library provides tools working BNG, rectangular Cartesian grid system used identify index locations across Great Britain grid squares various resolutions.","code":""},{"path":"/index.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"Access the British National Grid Index System","text":"osbng R package provides programmatic interface BNG, supporting efficient grid-based indexing spatial analysis. enables applications statistical aggregation, data visualisation, data interoperability using BNG grid references. Designed developers working geospatial data context Great Britain, library offers tools simplify working BNG, facilitating technical integration geospatial workflows practical exploration index system’s structure. package supports ‘standard’ BNG metre-based resolutions, represent powers ten 1m 100km (1m, 10m, 100m, 1km, 10km, 100km). also supports ‘intermediate’ quadtree resolutions (5m, 50m, 500m, 5km, 50km), identified ordinal (NE, SE, SW, NW) BNG reference direction suffix.","code":""},{"path":"/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Access the British National Grid Index System","text":"Currently, can install latest version osbng GitHub : installed, load package use :","code":"remotes::install_github(\"OrdnanceSurvey/osbng-r\") library(osbng)"},{"path":"/index.html","id":"complimetary-tools","dir":"","previous_headings":"Installation","what":"Complimetary tools","title":"Access the British National Grid Index System","text":"osbng-py, Python package broad parity R package. osbng-grids, BNG grid data GeoParquet GeoPackage (GPKG) formats. mosaic, Databricks package providing geospatial grid indexing using BNG Apache Spark.","code":""},{"path":"/index.html","id":"usage","dir":"","previous_headings":"","what":"Usage","title":"Access the British National Grid Index System","text":"osbng package supports different interactions BNG index system (e.g. indexing, hierarchy, traversal). high-level summary task provided :","code":""},{"path":"/index.html","id":"bng-reference","dir":"","previous_headings":"Usage","what":"BNG Reference","title":"Access the British National Grid Index System","text":"osbng implements custom BNG reference object, BNGReference. BNGReference object validates reference provides access custom functions work reference.","code":"library(osbng)  bng_ref <- as_bng_reference(\"ST57SE\")  print(bng_ref) #> <BNGReference[1] with Resolution=5km> #> [1] <ST 5 7 SE>  get_bng_resolution(bng_ref) #> [1] 5000  get_bng_resolution_string(bng_ref) #> [1] \"5km\""},{"path":"/index.html","id":"indexing","dir":"","previous_headings":"Usage","what":"Indexing","title":"Access the British National Grid Index System","text":"Provides ability index work coordinates geometries BNG index system. includes: Encoding easting northing coordinates BNGReference objects specified resolution. Decoding BNGReference objects back coordinates, bounding boxes grid squares geos geometries. Indexing bounding boxes geos geometries grid squares specified resolution spatial analysis.   following example demonstrates round trip constructing BNGReference object easting northing coordinates, decoding back coordinates, bounding box, geos geometry:","code":"bng_ref <- xy_to_bng(easting = 356976, northing = 171421, resolution = \"5km\")  bng_to_xy(bng_ref, position = \"lower-left\") #>        [,1]   [,2] #> [1,] 355000 170000  bng_to_bbox(bng_ref) #>        [,1]   [,2]   [,3]   [,4] #> [1,] 355000 170000 360000 175000  bng_to_grid_geom(bng_ref, \"wkt\") #> [1] \"POLYGON ((355000 170000, 360000 170000, 360000 175000, 355000 175000, 355000 170000))\""},{"path":"/index.html","id":"hierarchy","dir":"","previous_headings":"Usage","what":"Hierarchy","title":"Access the British National Grid Index System","text":"Provides functionality navigate hierarchical structure BNG index system. includes: Returning parents children BNGReference objects specified resolutions. following example returns parent BNGReference:","code":"bng_ref <- as_bng_reference(\"ST5671SE\")  get_bng_resolution(bng_ref) #> [1] 500  bng_to_parent(bng_ref, resolution = \"10km\") #> <BNGReference[1] with Resolution=10km> #> [1] <ST 5 7>"},{"path":"/index.html","id":"traversal","dir":"","previous_headings":"Usage","what":"Traversal","title":"Access the British National Grid Index System","text":"Provides functionality traversing calculating distances within BNG index system. supports spatial analyses distance-constrained nearest neighbour searches ‘distance within’ queries offering: Generation k-discs k-rings around given grid square. Identification neighbouring grid squares checking adjacency. Calculating distance grid square centroids. Retrieving grid squares within specified absolute distance. following example creates hollow ring grid squares distance k grid squares:","code":"bng_kring(as_bng_reference(\"SU1234\"), k = 2) #> [[1]] #> <BNGReference[16] with Resolution=1km> #>  [1] <SU 10 32> <SU 11 32> <SU 12 32> <SU 13 32> <SU 14 32> <SU 10 33> #>  [7] <SU 14 33> <SU 10 34> <SU 14 34> <SU 10 35> <SU 14 35> <SU 10 36> #> [13] <SU 11 36> <SU 12 36> <SU 13 36> <SU 14 36>"},{"path":"/index.html","id":"contributing","dir":"","previous_headings":"","what":"Contributing","title":"Access the British National Grid Index System","text":"Please raise issue discuss features, bugs, ask general questions.","code":""},{"path":"/index.html","id":"license","dir":"","previous_headings":"","what":"License","title":"Access the British National Grid Index System","text":"osbng-r licensed terms MIT License.","code":""},{"path":"/reference/BNGReference.html","id":null,"dir":"Reference","previous_headings":"","what":"BNG Reference objects — BNGReference","title":"BNG Reference objects — BNGReference","text":"Functions support working objects type BNGReference.","code":""},{"path":"/reference/BNGReference.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"BNG Reference objects — BNGReference","text":"","code":"# S3 method for BNGReference [(x, i)  # S3 method for BNGReference [[(x, i)  # S3 method for BNGReference [(x, i) <- value  # S3 method for BNGReference [[(x, i) <- value  # S3 method for BNGReference c(...)  # S3 method for BNGReference unique(x, incomparables = FALSE, ...)  # S3 method for BNGReference as.data.frame(x, ...)"},{"path":"/reference/BNGReference.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"BNG Reference objects — BNGReference","text":"x Object class BNGReference. Record selection. value suitable replacement value type BNGReference. ... Additional parameters. incomparables vector values compared. See unique.","code":""},{"path":"/reference/BNGReference.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"BNG Reference objects — BNGReference","text":"vector type BNGReference.","code":""},{"path":"/reference/BNGReference.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"BNG Reference objects — BNGReference","text":"BNG structured using hierarchical system grid squares various resolutions. highest level, grid divided 100 km 100 km squares, identified two-letter code. Successive levels resolution subdivide grid squares finer detail, individual 1-meter squares.","code":""},{"path":[]},{"path":"/reference/BNGReference.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"BNG Reference objects — BNGReference","text":"","code":"x <- as_bng_reference(c(\"TQ1234\", \"SU5678\"))  x[1] #> <BNGReference[1] with Resolution=1km> #> [1] <TQ 12 34>  x[2] <- as_bng_reference(\"SU56\") x #> <BNGReference[2] with multiple resolutions> #> [1] <TQ 12 34> <SU 5 6>"},{"path":"/reference/Regions.html","id":null,"dir":"Reference","previous_headings":"","what":"Region Boundaries for London — Regions","title":"Region Boundaries for London — Regions","text":"file (London_Regions_December_2024_Boundaries_EN_BFC.gpkg) contains digital vector boundaries London Region England December 2024. boundaries available : (BFC) Full resolution - clipped coastline (Mean High Water mark). coordinate reference system British National Grid (OSGB36; EPSG:27700). Contains Ordnance Survey ONS Intellectual Property Rights. Licenced Open Government Licence (OGLv3).","code":""},{"path":"/reference/Regions.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Region Boundaries for London — Regions","text":"GeoPackage one layer, 1 rows 8 columns: fid Row index. RGN24CD Character. Region GSS code. RGN24NM Character. Standardised Region name. BNG_E Centroid eastings British National Grid. BNG_N Centroid northings British National Grid. LONG Centroid longitude coordinate. LAT Centroid latitude coordinate. GlobalID Database management.","code":""},{"path":"/reference/Regions.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Region Boundaries for London — Regions","text":"Office National Statistics (ONS), released 16 February 2025, Regions (December 2024) Boundaries EN BFC, ONS Open Geography Portal.","code":""},{"path":"/reference/as_bng_reference.html","id":null,"dir":"Reference","previous_headings":"","what":"Create BNG reference objects — as_bng_reference","title":"Create BNG reference objects — as_bng_reference","text":"Convert test user input (strings) custom object handling British National Grid (BNG) references.","code":""},{"path":"/reference/as_bng_reference.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create BNG reference objects — as_bng_reference","text":"","code":"as_bng_reference(bng_ref, ...)  # S3 method for default as_bng_reference(bng_ref, ...)  # S3 method for BNGReference as_bng_reference(bng_ref, ...)  # S3 method for character as_bng_reference(bng_ref, ...)  is_bng_reference(bng_ref)"},{"path":"/reference/as_bng_reference.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create BNG reference objects — as_bng_reference","text":"bng_ref character vector grid references created tested. ... Additional parameters. currently used.","code":""},{"path":"/reference/as_bng_reference.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create BNG reference objects — as_bng_reference","text":"object type BNGReference.","code":""},{"path":"/reference/as_bng_reference.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create BNG reference objects — as_bng_reference","text":"Converts BNG reference string BNGReference object, ensuring type consistency across package. functions accepting returning BNG references enforce use class. BNG structured using hierarchical system grid squares various resolutions. highest level, grid divided 100 km 100 km squares, identified two-letter code. Successive levels resolution subdivide grid squares finer detail, individual 1-meter squares. package supports 'standard' 'intermediate' quadtree resolutions: 100km, 50km, 10km, 5km, 1km, 500m, 100m, 50m, 10m, 5m 1m.","code":""},{"path":[]},{"path":"/reference/as_bng_reference.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create BNG reference objects — as_bng_reference","text":"","code":"as_bng_reference(\"TQ1234\") #> <BNGReference[1] with Resolution=1km> #> [1] <TQ 12 34>  as_bng_reference(c(\"TQ1234\", \"SU5678\")) #> <BNGReference[2] with Resolution=1km> #> [1] <TQ 12 34> <SU 56 78>"},{"path":"/reference/bng_distance.html","id":null,"dir":"Reference","previous_headings":"","what":"Distance calculations — bng_distance","title":"Distance calculations — bng_distance","text":"Compute Euclidean distances BNG references distance-based neighbours lists.","code":""},{"path":"/reference/bng_distance.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Distance calculations — bng_distance","text":"","code":"bng_dwithin(bng_ref, d, ...)  bng_distance(bng_ref1, bng_ref2, by_element = FALSE, edge_to_edge = FALSE)"},{"path":"/reference/bng_distance.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Distance calculations — bng_distance","text":"bng_ref object class BNGReference. d numeric. Distance expressed metres. ... additional parameters. currently used. bng_ref1, bng_ref2 object BNGReference by_element logical. TRUE, return vector distance pair BNG references. error raised BNGReference objects length. Default FALSE, return dense matrix pairwise distances. edge_to_edge Logical. distances measured edges grid references? Default FALSE use centroid.","code":""},{"path":"/reference/bng_distance.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Distance calculations — bng_distance","text":"list containing unordered vector BNGReference objects around given grid square within absolute distance d. by_element FALSE  bng_distance returns dense numeric matrix dimension length(x) length(y); otherwise returns numeric vector length x y error raised lengths x y unequal. Distances involving invalid references NA.","code":""},{"path":"/reference/bng_distance.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Distance calculations — bng_distance","text":"bng_dwithin returns grids squares part boundary within distance d part bng_ref's boundary.","code":""},{"path":"/reference/bng_distance.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Distance calculations — bng_distance","text":"","code":"bng_dwithin(as_bng_reference(\"SU1234\"), 1000) #> [[1]] #> <BNGReference[9] with Resolution=1km> #> [1] <SU 11 33> <SU 12 33> <SU 13 33> <SU 11 34> <SU 12 34> <SU 13 34> <SU 11 35> #> [8] <SU 12 35> <SU 13 35> #>   bng_dwithin(as_bng_reference(\"SU1234\"), 1001) #> [[1]] #> <BNGReference[21] with Resolution=1km> #>  [1] <SU 11 32> <SU 12 32> <SU 13 32> <SU 10 33> <SU 11 33> <SU 12 33> #>  [7] <SU 13 33> <SU 14 33> <SU 10 34> <SU 11 34> <SU 12 34> <SU 13 34> #> [13] <SU 14 34> <SU 10 35> <SU 11 35> <SU 12 35> <SU 13 35> <SU 14 35> #> [19] <SU 11 36> <SU 12 36> <SU 13 36> #>    ref1 <- as_bng_reference(\"SE1433\")  bng_distance(ref1, as_bng_reference(\"SE1631\")) #>          [,1] #> [1,] 2828.427  bng_distance(ref1, as_bng_reference(\"SENW\")) #>          [,1] #> [1,] 42807.71  ref2 <- as_bng_reference(c(\"SE1533\", \"SE1631\", \"SE\")) #> Warning: Varying resolutions detected.  bng_distance(ref1, ref2) #>      [,1]     [,2]     [,3] #> [1,] 1000 2828.427 39147.16  bng_distance(ref2) #>           [,1]      [,2]     [,3] #> [1,]     0.000  2236.068 38242.65 #> [2,]  2236.068     0.000 38268.79 #> [3,] 38242.646 38268.786     0.00  ref3 <- as_bng_reference(c(\"SE1433\", \"SE1244\"))  bng_distance(ref3, ref2) #>          [,1]      [,2]     [,3] #> [1,]  1000.00  2828.427 39147.16 #> [2,] 11401.75 13601.471 37901.19  bng_distance(ref3, ref2[1:2], by_element = TRUE) #> [1]  1000.00 13601.47  bng_distance(ref1, ref2, edge_to_edge = TRUE) #>      [,1]     [,2] [,3] #> [1,]    0 1414.214    0"},{"path":"/reference/bng_kring.html","id":null,"dir":"Reference","previous_headings":"","what":"Spatial neighbourhoods in the British National Grid index system — bng_kring","title":"Spatial neighbourhoods in the British National Grid index system — bng_kring","text":"Identify neighbours hollow ring solid disc grid distance 'k' target BNG reference.","code":""},{"path":"/reference/bng_kring.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Spatial neighbourhoods in the British National Grid index system — bng_kring","text":"","code":"bng_kring(bng_ref, k, ...)  bng_kdisc(bng_ref, k, ...)"},{"path":"/reference/bng_kring.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Spatial neighbourhoods in the British National Grid index system — bng_kring","text":"bng_ref object type BNGReference k numeric value measuring number grid squares traversed ring input BNG reference ... additional parameters. currently used","code":""},{"path":"/reference/bng_kring.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Spatial neighbourhoods in the British National Grid index system — bng_kring","text":"list containing unordered collection objects type BNGReference within neighbourhood around given grid reference.","code":""},{"path":"/reference/bng_kring.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Spatial neighbourhoods in the British National Grid index system — bng_kring","text":"K-rings hollow rings grid squares grid distance k k-discs filled areas around given grid square grid distance k. bng_kdisc includes given BNG Reference (.e. central grid square). event bng_ref along edge corner valid BNG area, return BNG references ring/disc outside valid BNG range returned.","code":""},{"path":"/reference/bng_kring.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Spatial neighbourhoods in the British National Grid index system — bng_kring","text":"","code":"bng_kring(as_bng_reference(\"SU1234\"), 1) #> [[1]] #> <BNGReference[8] with Resolution=1km> #> [1] <SU 11 33> <SU 12 33> <SU 13 33> <SU 11 34> <SU 13 34> <SU 11 35> <SU 12 35> #> [8] <SU 13 35> #>   bng_kring(as_bng_reference(\"SU1234\"), 3) #> [[1]] #> <BNGReference[24] with Resolution=1km> #>  [1] <SU 09 31> <SU 10 31> <SU 11 31> <SU 12 31> <SU 13 31> <SU 14 31> #>  [7] <SU 15 31> <SU 09 32> <SU 15 32> <SU 09 33> <SU 15 33> <SU 09 34> #> [13] <SU 15 34> <SU 09 35> <SU 15 35> <SU 09 36> <SU 15 36> <SU 09 37> #> [19] <SU 10 37> <SU 11 37> <SU 12 37> <SU 13 37> <SU 14 37> <SU 15 37> #>   bng_kdisc(as_bng_reference(\"SU1234\"), 1) #> [[1]] #> <BNGReference[9] with Resolution=1km> #> [1] <SU 11 33> <SU 12 33> <SU 13 33> <SU 11 34> <SU 12 34> <SU 13 34> <SU 11 35> #> [8] <SU 12 35> <SU 13 35> #>   bng_kdisc(as_bng_reference(\"SU1234\"), 3) #> [[1]] #> <BNGReference[49] with Resolution=1km> #>  [1] <SU 09 31> <SU 10 31> <SU 11 31> <SU 12 31> <SU 13 31> <SU 14 31> #>  [7] <SU 15 31> <SU 09 32> <SU 10 32> <SU 11 32> <SU 12 32> <SU 13 32> #> [13] <SU 14 32> <SU 15 32> <SU 09 33> <SU 10 33> <SU 11 33> <SU 12 33> #> [19] <SU 13 33> <SU 14 33> <SU 15 33> <SU 09 34> <SU 10 34> <SU 11 34> #> [25] <SU 12 34> <SU 13 34> <SU 14 34> <SU 15 34> <SU 09 35> <SU 10 35> #> [31] <SU 11 35> <SU 12 35> <SU 13 35> <SU 14 35> <SU 15 35> <SU 09 36> #> [37] <SU 10 36> <SU 11 36> <SU 12 36> <SU 13 36> <SU 14 36> <SU 15 36> #> [43] <SU 09 37> <SU 10 37> <SU 11 37> <SU 12 37> <SU 13 37> <SU 14 37> #> [49] <SU 15 37> #>"},{"path":"/reference/bng_neighbours.html","id":null,"dir":"Reference","previous_headings":"","what":"Identify neighbouring grid squares — bng_neighbours","title":"Identify neighbouring grid squares — bng_neighbours","text":"Find BNG references share grid cell edge target BNG reference.","code":""},{"path":"/reference/bng_neighbours.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Identify neighbouring grid squares — bng_neighbours","text":"","code":"bng_neighbours(bng_ref, ...)  bng_is_neighbour(bng_ref1, bng_ref2, ...)"},{"path":"/reference/bng_neighbours.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Identify neighbouring grid squares — bng_neighbours","text":"bng_ref target object type BNGReference ... additional parameters. currently used bng_ref1, bng_ref2 BNGReference objects comparison assessing neighbour relationships.","code":""},{"path":"/reference/bng_neighbours.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Identify neighbouring grid squares — bng_neighbours","text":"list containing set four BNGReference objects border target reference. boolean identifying grid references share border","code":""},{"path":"/reference/bng_neighbours.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Identify neighbouring grid squares — bng_neighbours","text":"Grid references \"neighbours\" share contiguous edge (.e. corners define neighbours). event target reference along edge corner valid BNG area, 3 2 references, respectively, returned bng_is_neighbour compares references equal resolution. bng_ref1 exactly matches bng_ref2 bng_is_neighbour returns FALSE.","code":""},{"path":"/reference/bng_neighbours.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Identify neighbouring grid squares — bng_neighbours","text":"","code":"bng_neighbours(as_bng_reference(\"SU1234\")) #> [[1]] #> <BNGReference[4] with Resolution=1km> #> [1] <SU 12 33> <SU 11 34> <SU 13 34> <SU 12 35> #>   bng_is_neighbour(as_bng_reference(\"SE1921\"), as_bng_reference(\"SE1821\")) #> [1] TRUE  bng_is_neighbour(as_bng_reference(\"SE1922\"), as_bng_reference(\"SE1821\")) #> [1] FALSE  bng_is_neighbour(as_bng_reference(\"SU1234\"), as_bng_reference(\"SU1234\")) #> [1] FALSE"},{"path":"/reference/bng_to_bbox.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert bounding boxes — bbox_to_bng","title":"Convert bounding boxes — bbox_to_bng","text":"Create British National Grid reference bounding boxes convert grid reference objects bounding boxes.","code":""},{"path":"/reference/bng_to_bbox.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert bounding boxes — bbox_to_bng","text":"","code":"bbox_to_bng(...)  # S3 method for numeric bbox_to_bng(xmin, ymin, xmax, ymax, resolution, ...)  # S3 method for matrix bbox_to_bng(x, resolution, ...)  bng_to_bbox(bng_ref, ...)  bng_to_grid_geom(bng_ref, format = c(\"geos\", \"sf\", \"wkt\"), ...)"},{"path":"/reference/bng_to_bbox.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert bounding boxes — bbox_to_bng","text":"... additional parameters, currently used xmin, ymin, xmax, ymax numeric vector bounding box coordinates resolution resolution BNG reference expressed either metre-based integer string label x optional input bounding box matrix values bng_ref vector type BNGReference objects format character indicating type geometry object return. Default \"geos\" \"sf\" returns object class sfc.","code":""},{"path":"/reference/bng_to_bbox.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert bounding boxes — bbox_to_bng","text":"bng_to_bbox: numeric vector bounding easting northing coordinates. multiple references supplied bng_ref matrix coordinates returned. bbox_to_bng: list containing vectors BNGReference objects. bng_to_grid_geom converts bounding box coordinates polygon geometry object.","code":""},{"path":"/reference/bng_to_bbox.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Convert bounding boxes — bbox_to_bng","text":"relationship bounding box returned BNG grid squares depends alignment bounding box BNG index system: bounding box edges align BNG system (e.g. xmin, ymin, xmax, ymax multiples specified resolution), grid squares entirely contained within bounding box returned. Grid squares intersect fully contained within bounding box excluded. bounding box edges aligned BNG system, grid squares partially overlapped bounding box also included. case, function ensures relevant grid squares bounding box touches returned, including edges. Validates normalises bounding box coordinates BNG index system extent. bounding box coordinates fall outside BNG system extent, coordinates snapped bounds BNG system. Bounding boxes expressed four coordinates (min x, min y, max x, max y). Coordinates must British National Grid projection (EPSG:27700). functions support coordinate transformations.","code":""},{"path":"/reference/bng_to_bbox.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert bounding boxes — bbox_to_bng","text":"","code":"bbox_to_bng(400000, 100000, 500000, 200000, \"50km\") #> [[1]] #> <BNGReference[4] with Resolution=50km> #> [1] <SU SW> <SU SE> <SU NW> <SU NE> #>   bbox_to_bng(285137.06, 78633.75, 299851.01, 86427.96, 5000) #> [[1]] #> <BNGReference[9] with Resolution=5km> #> [1] <SX 8 7 NE> <SX 9 7 NW> <SX 9 7 NE> <SX 8 8 SE> <SX 9 8 SW> <SX 9 8 SE> #> [7] <SX 8 8 NE> <SX 9 8 NW> <SX 9 8 NE> #>   bng_to_bbox(as_bng_reference(\"SU\")) #>       [,1]  [,2]  [,3]  [,4] #> [1,] 4e+05 1e+05 5e+05 2e+05  bng_to_bbox(as_bng_reference(\"SU 3 1\")) #>        [,1]   [,2]   [,3]   [,4] #> [1,] 430000 110000 440000 120000  bng_to_bbox(as_bng_reference(\"SU 3 1 NE\")) #>        [,1]   [,2]   [,3]   [,4] #> [1,] 435000 115000 440000 120000  bng_to_bbox(as_bng_reference(\"SU 37289 15541\")) #>        [,1]   [,2]   [,3]   [,4] #> [1,] 437289 115541 437290 115542  bng_to_grid_geom(as_bng_reference(\"SU\")) #> <geos_geometry[1]> #> [1] <POLYGON ((400000 100000, 500000 100000, 500000 200000, 400000 200000, 400000 100000))>  bng_to_grid_geom(as_bng_reference(\"SU 3 1\")) #> <geos_geometry[1]> #> [1] <POLYGON ((430000 110000, 440000 110000, 440000 120000, 430000 120000, 430000 110000))>  bng_to_grid_geom(as_bng_reference(\"SU 3 1 NE\")) #> <geos_geometry[1]> #> [1] <POLYGON ((435000 115000, 440000 115000, 440000 120000, 435000 120000, 435000 115000))>  bng_to_grid_geom(as_bng_reference(\"SU 37289 15541\")) #> <geos_geometry[1]> #> [1] <POLYGON ((437289 115541, 437290 115541, 437290 115542, 437289 115542, 437289 115541))>"},{"path":"/reference/bng_to_children.html","id":null,"dir":"Reference","previous_headings":"","what":"Navigate the British National Grid hierarchy — bng_to_children","title":"Navigate the British National Grid hierarchy — bng_to_children","text":"Identify \"parent\" \"children\" references contain nested within given BNG reference.","code":""},{"path":"/reference/bng_to_children.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Navigate the British National Grid hierarchy — bng_to_children","text":"","code":"bng_to_children(bng_ref, resolution, ...)  bng_to_parent(bng_ref, resolution, ...)"},{"path":"/reference/bng_to_children.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Navigate the British National Grid hierarchy — bng_to_children","text":"bng_ref object type BNGReference resolution (optional) value target resolution parent/child references. omitted, next resolution relative input BNG reference assumed. ... additional parameters. currently used","code":""},{"path":"/reference/bng_to_children.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Navigate the British National Grid hierarchy — bng_to_children","text":"child references list BNGReference objects item list set children input grid reference. Parent references vector BNGReference objects.","code":""},{"path":"/reference/bng_to_children.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Navigate the British National Grid hierarchy — bng_to_children","text":"BNG structured using hierarchical system grid squares various resolutions. highest level, grid divides GB 100 km 100 km squares, identified two-letter code. Successive levels resolution subdivide grid squares finer detail, individual 1-meter squares. functions allow traversal hierarchy providing methods return parent children BNGReference objects specified resolutions. Definitions: Parent parent BNGReference object grid square next higher (coarser) resolution level contains current reference. example, parent 1km grid square reference 5km grid square contains . Children children BNGReference object grid squares next lower (finer) resolution level contained within current reference. example, children 10km grid square reference 5km grid squares contains.","code":""},{"path":"/reference/bng_to_children.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Navigate the British National Grid hierarchy — bng_to_children","text":"","code":"bng_to_children(as_bng_reference(\"SU\")) #> [[1]] #> <BNGReference[4] with Resolution=50km> #> [1] <SU SW> <SU SE> <SU NW> <SU NE> #>   bng_to_children(as_bng_reference(\"SU36\")) #> [[1]] #> <BNGReference[4] with Resolution=5km> #> [1] <SU 3 6 SW> <SU 3 6 SE> <SU 3 6 NW> <SU 3 6 NE> #>   bng_to_parent(as_bng_reference(\"SU36SW\")) #> <BNGReference[1] with Resolution=10km> #> [1] <SU 3 6>  bng_to_parent(as_bng_reference(\"SU342567\")) #> <BNGReference[1] with Resolution=500m> #> [1] <SU 34 56 NW>  bng_to_parent(as_bng_reference(\"SU342567\"), resolution = 10000) #> <BNGReference[1] with Resolution=10km> #> [1] <SU 3 5>"},{"path":"/reference/bng_to_xy.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert BNG References — bng_to_xy","title":"Convert BNG References — bng_to_xy","text":"Create British National Grid references coordinates specific resolution convert grid reference objects coordinates grid position.","code":""},{"path":"/reference/bng_to_xy.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert BNG References — bng_to_xy","text":"","code":"bng_to_xy(   bng_ref,   position = c(\"lower-left\", \"upper-left\", \"upper-right\", \"lower-right\", \"centre\"),   ... )  xy_to_bng(...)  # S3 method for numeric xy_to_bng(easting, northing, resolution, ...)  # S3 method for matrix xy_to_bng(x, resolution, ...)  # S3 method for data.frame xy_to_bng(df, cols = c(\"eastings\", \"northings\"), resolution, ...)"},{"path":"/reference/bng_to_xy.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert BNG References — bng_to_xy","text":"bng_ref vector type BNGReference objects position character indicating point location BNG grid square returned. Default lower-left corner. ... additional parameters, currently used easting numeric vector coordinates northing numeric vector coordinates resolution target BNG grid resolution. Can specified numeric character vector x two column matrix eastings northings df data.frame columns coordinates convert cols column names indices within df holding coordinates","code":""},{"path":"/reference/bng_to_xy.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert BNG References — bng_to_xy","text":"xy_to_bng: vector BNGReference objects bng_to_xy: two-column matrix eastings northings","code":""},{"path":"/reference/bng_to_xy.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Convert BNG References — bng_to_xy","text":"Coordinates must British National Grid projection (EPSG:27700) using eastings northings meters. functions support coordinate transformations.","code":""},{"path":"/reference/bng_to_xy.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert BNG References — bng_to_xy","text":"","code":"bng_to_xy(as_bng_reference(\"SU\"), \"lower-left\") #>       [,1]  [,2] #> [1,] 4e+05 1e+05  bng_to_xy(as_bng_reference(\"SU 3 1\"), \"lower-left\") #>        [,1]   [,2] #> [1,] 430000 110000  bng_to_xy(as_bng_reference(\"SU 3 1 NE\"), \"centre\") #>        [,1]   [,2] #> [1,] 437500 117500  bng_to_xy(as_bng_reference(\"SU 37289 15541\"), \"centre\") #>          [,1]     [,2] #> [1,] 437289.5 115541.5  xy_to_bng(437289, 115541, \"100km\") #> <BNGReference[1] with Resolution=100km> #> [1] <SU>  xy_to_bng(437289, 115541, \"10km\") #> <BNGReference[1] with Resolution=10km> #> [1] <SU 3 1>  xy_to_bng(437289, 115541, \"5km\") #> <BNGReference[1] with Resolution=5km> #> [1] <SU 3 1 NE>  xy_to_bng(437289, 115541, 1) #> <BNGReference[1] with Resolution=1m> #> [1] <SU 37289 15541>    # example code  # example code"},{"path":"/reference/geom_to_bng.html","id":null,"dir":"Reference","previous_headings":"","what":"Spatial index for geometries — geom_to_bng","title":"Spatial index for geometries — geom_to_bng","text":"Returns set BNG Reference objects given geometry specified resolution.","code":""},{"path":"/reference/geom_to_bng.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Spatial index for geometries — geom_to_bng","text":"","code":"geom_to_bng(geom, resolution, ...)  # S3 method for geos_geometry geom_to_bng(geom, resolution, ...)  # S3 method for sf geom_to_bng(geom, resolution, ...)  geom_to_bng_intersection(   geom,   resolution,   format = c(\"geos\", \"sf\", \"wkt\"),   ... )  # S3 method for geos_geometry geom_to_bng_intersection(   geom,   resolution,   format = c(\"geos\", \"sf\", \"wkt\"),   ... )  # S3 method for sf geom_to_bng_intersection(   geom,   resolution,   format = c(\"geos\", \"sf\", \"wkt\"),   ... )"},{"path":"/reference/geom_to_bng.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Spatial index for geometries — geom_to_bng","text":"geom geometry object type geos-geometry sf resolution spatial resolution BNG cell expressed string integer values ... additional parameters. currently used. format character indicating type geometry object return. Default \"geos\" \"sf\" returns object class sfc.","code":""},{"path":"/reference/geom_to_bng.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Spatial index for geometries — geom_to_bng","text":"geom_to_bng: list vectors BNGReference objects number items list equal length(geom). geom_to_bng_intersection: list nested lists length(geom). nested list contains three named items: \"BNGReference\" - BNGReference objects representing grid squares corresponding decomposition. \"is_core\" - logical vector indicating whether grid square geometry entirely contained input geometry. relevant Polygon geometries helps distinguish \"core\" (fully inside) \"edge\" (partially overlapping) grid squares. \"geom\" - geometry representing intersection input geometry grid square. can one number geometry types depending overlap. \"is_core\" TRUE, \"geom\" grid square geometry.","code":""},{"path":"/reference/geom_to_bng.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Spatial index for geometries — geom_to_bng","text":"BNG Reference objects returned represent grid squares intersected input geometry. BNG Reference objects de-duplicated cases two parts multi-part geometry intersect grid square. Unlike geom_to_bng returnS BNG Reference objects representing grid squares intersected input geometry, geom_to_bng_intersection returns list objects store intersection input geometry grid square geometries. functions useful spatial indexing aggregation geometries BNG. geometry decomposition BNG index system, use geom_to_bng_intersection instead.","code":""},{"path":"/reference/geom_to_bng.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Spatial index for geometries — geom_to_bng","text":"","code":"geom_to_bng(geos::geos_make_point(430000, 110000), \"100km\") #> <BNGReference[1] with Resolution=100km> #> [1] <SU>  geom_to_bng(geos::geos_make_linestring(c(430000, 430010, 430010), c(110000, 110000, 110010)), \"5m\") #> [[1]] #> <BNGReference[3] with Resolution=5m> #> [1] <SU 3000 1000 SW> <SU 3000 1000 SE> <SU 3000 1000 NE> #>   geom_to_bng_intersection(geos::geos_make_point(430000, 110000), \"100km\") #> [[1]] #> [[1]]$BNGReference #> <BNGReference[1] with Resolution=100km> #> [1] <SU> #>  #> [[1]]$is_core #> [1] FALSE #>  #> [[1]]$geom #> <geos_geometry[1]> #> [1] <POINT (430000 110000)> #>  #>   geom_to_bng_intersection(geos::geos_make_linestring(c(430000, 430010, 430010), c(110000, 110000, 110010)), \"5m\") #> [[1]] #> [[1]]$BNGReference #> <BNGReference[3] with Resolution=5m> #> [1] <SU 3000 1000 SW> <SU 3000 1000 SE> <SU 3000 1000 NE> #>  #> [[1]]$is_core #> [1] FALSE FALSE FALSE #>  #> [[1]]$geom #> <geos_geometry[3]> #> [1] <LINESTRING (430000 110000, 430005 110000)>                                        #> [2] <MULTILINESTRING ((430005 110000, 430010 110000), (430010 110000, 430010 110005))> #> [3] <LINESTRING (430010 110005, 430010 110010)>                                        #>  #>   geom_to_bng_intersection(geos::geos_make_polygon(c(375480.64511692, 426949.67604058, 465166.20199588, 453762.88376729, 393510.2158297, 375480.64511692), c(144999.23691181, 160255.02751493, 153320.57724078, 94454.79935802, 91989.21703833, 144999.23691181)), \"50km\") #> [[1]] #> [[1]]$BNGReference #> <BNGReference[9] with Resolution=50km> #> [1] <SY NE> <SZ NW> <SZ NE> <ST SE> <SU SW> <SU SE> <ST NE> <SU NW> <SU NE> #>  #> [[1]]$is_core #> [1] FALSE FALSE FALSE FALSE  TRUE FALSE FALSE FALSE FALSE #>  #> [[1]]$geom #> <geos_geometry[9]> #> [1] <POLYGON ((393510.21583 91989.21704, 390785.61814 100000, 400000 100000, 400000 92254.78365, 393510.21583 91989.21704))> #> [2] <POLYGON ((400000 92254.78365, 400000 100000, 450000 100000, 450000 94300.81946, 400000 92254.78365))>                   #> [3] <POLYGON ((453762.88377 94454.79936, 450000 94300.81946, 450000 100000, 454837.08494 100000, 453762.88377 94454.79936))> #> [4] <POLYGON [375481 100000...400000 150000]>                                                                                #> [5] <POLYGON ((400000 100000, 450000 100000, 450000 150000, 400000 150000, 400000 100000))>                                  #> [6] <POLYGON ((454837.08494 100000, 450000 100000, 450000 150000, 464522.94881 150000, 454837.08494 100000))>                #> [7] <POLYGON ((400000 152266.94989, 400000 150000, 392351.90644 150000, 400000 152266.94989))>                               #> [8] <POLYGON [400000 150000...450000 160255]>                                                                                #> [9] <POLYGON ((465166.202 153320.57724, 464522.94881 150000, 450000 150000, 450000 156072.50905, 465166.202 153320.57724))>  #>  #>"},{"path":"/reference/get_bng_resolution.html","id":null,"dir":"Reference","previous_headings":"","what":"BNG reference resolution — get_bng_resolution","title":"BNG reference resolution — get_bng_resolution","text":"Find spatial resolution (.e. grid size) British National Grid square.","code":""},{"path":"/reference/get_bng_resolution.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"BNG reference resolution — get_bng_resolution","text":"","code":"get_bng_resolution(bng_ref)  get_bng_resolution_string(bng_ref)"},{"path":"/reference/get_bng_resolution.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"BNG reference resolution — get_bng_resolution","text":"bng_ref Vector BNGReference objects test.","code":""},{"path":"/reference/get_bng_resolution.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"BNG reference resolution — get_bng_resolution","text":"vector numeric values get_bng_resolution() metres character strings expressing resolution grid references.","code":""},{"path":"/reference/get_bng_resolution.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"BNG reference resolution — get_bng_resolution","text":"resolution grid reference determined.","code":""},{"path":"/reference/get_bng_resolution.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"BNG reference resolution — get_bng_resolution","text":"","code":"get_bng_resolution(as_bng_reference(\"TQ1234\")) #> [1] 1000  get_bng_resolution_string(as_bng_reference(\"TQ1234NE\")) #> [1] \"500m\""},{"path":"/reference/osbng-package.html","id":null,"dir":"Reference","previous_headings":"","what":"osbng: Access the British National Grid (BNG) index system — osbng-package","title":"osbng: Access the British National Grid (BNG) index system — osbng-package","text":"osbng provides programmatic interface Ordnance Survey's British National Grid (BNG) index system, supporting efficient grid-based spatial indexing analysis. enables applications statistical aggregation, data visualisation, data interoperability using BNG grid references. Designed developers working geospatial data context Great Britain, library offers tools simplify working BNG, facilitating technical integration geospatial workflows practical exploration index system's structure.","code":""},{"path":"/reference/osbng-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"osbng: Access the British National Grid (BNG) index system — osbng-package","text":"Maintainer: Chris Jochem chris.jochem@os.uk contributors: Ordnance Survey Ltd [copyright holder, funder] Steve Kingston [contributor] Kate New [contributor] Tom Peterken [contributor]","code":""},{"path":"/reference/print.BNGReference.html","id":null,"dir":"Reference","previous_headings":"","what":"Printing BNG References — print.BNGReference","title":"Printing BNG References — print.BNGReference","text":"Supporting formatting printing BNGReference objects.","code":""},{"path":"/reference/print.BNGReference.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Printing BNG References — print.BNGReference","text":"","code":"# S3 method for BNGReference print(x, ...)  # S3 method for BNGReference format(x, compact = FALSE, ...)"},{"path":"/reference/print.BNGReference.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Printing BNG References — print.BNGReference","text":"x object type BNGReference. ... Additional parameters. compact Logical. standard spaces added removed \"pretty\" printing? Default FALSE add spaces.","code":""},{"path":"/reference/print.BNGReference.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Printing BNG References — print.BNGReference","text":"format provides standard formatting BNG reference objects print outputs BNG references invisibly returns object.","code":""},{"path":"/reference/print.BNGReference.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Printing BNG References — print.BNGReference","text":"Standard spaces added: 1) two-letter prefix, 2) eastings northings, 3) quadrant suffix, components exist grid reference.","code":""},{"path":"/reference/print.BNGReference.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Printing BNG References — print.BNGReference","text":"","code":"x <- as_bng_reference(\"SU1234\") print(x) #> <BNGReference[1] with Resolution=1km> #> [1] <SU 12 34>  print(x, compact = TRUE) #> <BNGReference[1] with Resolution=1km> #> [1] <SU1234>"},{"path":"/reference/valid.html","id":null,"dir":"Reference","previous_headings":"","what":"Check validity of a BNG Reference — valid","title":"Check validity of a BNG Reference — valid","text":"Validates British National Grid reference string using regular expression pattern. Helper function used verify resolutions.","code":""},{"path":"/reference/valid.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check validity of a BNG Reference — valid","text":"","code":"is_valid_bng(bng_ref)  # S3 method for character is_valid_bng(bng_ref)  # S3 method for BNGReference is_valid_bng(bng_ref)  is_valid_bng_resolution(resolution)"},{"path":"/reference/valid.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check validity of a BNG Reference — valid","text":"bng_ref Input vector BNG reference string(s) validate. resolution Numeric character vector resolutions test.","code":""},{"path":"/reference/valid.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check validity of a BNG Reference — valid","text":"Logical vector indicating reference bng_ref whether valid. Logical vector testing resolution.","code":""},{"path":"/reference/valid.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Check validity of a BNG Reference — valid","text":"BNG structured using hierarchical system grid squares various resolutions. highest level, grid divided 100 km 100 km squares, identified two-letter code. Successive levels resolution subdivide grid squares finer detail, individual 1-meter squares. reference consists 2-letter prefix (identifying 100 km grid square), followed easting northing value, may subdivided using intermediate resolutions. Additionally, optional suffix representing ordinal (intercardinal) directions (NE, SE, SW, NW) may appended reference account quadtree subdivision grid finer resolutions. grid reference can expressed different scales, follows: 100 km: Identified two-letter code (e.g. 'TQ'). 50 km: Subdivides 100 km grid four quadrants. grid reference adds ordinal direction suffix (NE, NW, SE, SW) indicate quadrant within 100 km square (e.g. 'TQSW'). 10 km: Adds two-digit easting northing values (e.g. 'TQ23'). 5 km: Subdivides 10 km square adding ordinal suffix (e.g. 'TQ53SW'). 1 km: Adds four-digit easting northing values (e.g. 'TQ2334'). 500 m: Subdivides 1 km square adding ordinal suffix (e.g. 'TQ2334NE'). 100 m: Adds six-digit easting northing values (e.g. ' TQ238347'). 50 m: Subdivides 100 m square adding ordinal suffix (e.g. 'TQ238347SE'). 10 m: Adds eight-digit easting northing values (e.g. 'TQ23863472'). 5 m: Subdivides 10 m square adding ordinal suffix (e.g. e.g. 'TQ23863472NW'). 1 m: Adds ten-digit easting northing values (e.g. 'TQ2386334729'). BNG references must adhere following format: Whitespace may may separate  components reference (.e. two-letter 100km grid square prefix, easting, northing, ordinal suffix). whitespace present, single space character. Whitespace can inconsistently used components reference. two-letter 100 km grid square prefixes ordinal direction suffixes (NE, SE, SW, NW) capitalised. resolution, given location can identified increasing detail, allowing variable accuracy depending geospatial application, small-scale mapping precise survey measurements.","code":""},{"path":[]},{"path":"/reference/valid.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check validity of a BNG Reference — valid","text":"","code":"is_valid_bng(\"TQ1234\")  # TRUE #> [1] TRUE  is_valid_bng(\"TQ123\")  # FALSE #> [1] FALSE  is_valid_bng(\"TQ 12 34\")  # TRUE #> [1] TRUE  is_valid_bng_resolution(1000) #> [1] TRUE  is_valid_bng_resolution(\"1km\") #> [1] TRUE  is_valid_bng_resolution(0.5) #> [1] FALSE"},{"path":"/news/index.html","id":"osbng-010","dir":"Changelog","previous_headings":"","what":"osbng 0.1.0","title":"osbng 0.1.0","text":"Initial release osbng establishing custom BNGRference-type objects support conversion, indexing, traversal. Establish MIT license. Website vignettes set .","code":""}]
